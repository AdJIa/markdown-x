# 规格文档模板 (Spec)

## 元信息
- **功能名称**: 
- **规格版本**: v1.0
- **编写时间**: 
- **编写人**: 
- **状态**: 📝 草稿 / 👀 审查中 / ✅ 已通过
- **基于提案**: [链接到提案]

---

## 1. 概述

### 1.1 引用提案
本规格基于提案: [链接]

### 1.2 规格目标
[本规格要解决的具体技术问题]

---

## 2. 功能规格 (Functional Spec)

### 2.1 用户故事
[作为... 我想要... 以便...]

### 2.2 用例 (Use Cases)

#### 用例 1: [名称]
**前置条件**: 
**触发条件**: 
**基本流程**:
1. 
2. 
3. 

**后置条件**: 
**异常流程**:
- 异常 1: [处理]
- 异常 2: [处理]

### 2.3 用户界面规格
#### UI 组件
| 组件 | 描述 | 交互 |
|------|------|------|
| | | |

#### 状态流转
```
[状态图或流程图]
```

### 2.4 输入/输出规格

#### 输入
| 字段 | 类型 | 必填 | 验证规则 |
|------|------|------|----------|
| | | | |

#### 输出
| 字段 | 类型 | 说明 |
|------|------|------|
| | | |

---

## 3. 数据结构规格 (Data Spec)

### 3.1 数据模型
```typescript
// TypeScript 接口定义
interface ExampleData {
  id: string;
  name: string;
  // ...
}
```

### 3.2 数据验证规则
| 字段 | 规则 | 错误消息 |
|------|------|----------|
| | | |

### 3.3 数据存储
- 存储位置: 
- 格式: 
- 生命周期: 

---

## 4. 接口规格 (API Spec)

### 4.1 内部接口

#### 接口 1: [名称]
```typescript
// 函数签名
function exampleFunction(param: Type): ReturnType;

// 参数
// - param: [描述]

// 返回值
// - [描述]

// 错误
// - ErrorType: [描述]
```

### 4.2 IPC 接口 (Electron)

#### 通道: [channel-name]
**渲染进程 → 主进程**
```typescript
// 发送
ipcRenderer.invoke('channel-name', args);

// 参数
interface ChannelArgs {
  // ...
}

// 返回
interface ChannelReturn {
  // ...
}

// 错误
// - Error: [描述]
```

### 4.3 事件接口
| 事件名 | 方向 | 数据 | 说明 |
|--------|------|------|------|
| | | | |

---

## 5. 错误处理规格 (Error Spec)

### 5.1 错误分类
| 错误码 | 描述 | 用户提示 | 处理策略 |
|--------|------|----------|----------|
| | | | |

### 5.2 错误恢复
[各种错误场景下的恢复策略]

---

## 6. 性能规格 (Performance Spec)

### 6.1 响应时间
| 操作 | 目标 | 最大容忍 |
|------|------|----------|
| | | |

### 6.2 资源使用
| 资源 | 限制 |
|------|------|
| 内存 | |
| CPU | |
| 存储 | |

### 6.3 并发处理
[如何处理并发访问？]

---

## 7. 安全规格 (Security Spec)

### 7.1 输入验证
[如何防止恶意输入？]

### 7.2 数据保护
[敏感数据如何处理？]

### 7.3 权限控制
[需要什么权限？]

---

## 8. 测试验收标准 (Acceptance Criteria)

### 8.1 功能测试
- [ ] AC1: [描述]
- [ ] AC2: [描述]
- [ ] AC3: [描述]

### 8.2 边界测试
- [ ] 边界 1: [描述]
- [ ] 边界 2: [描述]

### 8.3 性能测试
- [ ] 性能 1: [描述]
- [ ] 性能 2: [描述]

---

## 9. 下一步

规格通过后，进入 **设计阶段 (Design)**。

运行: `./openspec-dev.sh design {feature-name}`

---

## 审查清单

- [ ] 基于已通过的提案
- [ ] 功能规格完整
- [ ] 数据结构定义
- [ ] 接口契约明确
- [ ] 错误场景覆盖
- [ ] 性能要求量化
- [ ] 验收标准可测试
