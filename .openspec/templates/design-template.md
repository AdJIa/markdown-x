# 设计方案模板 (Design)

## 元信息
- **功能名称**: 
- **设计版本**: v1.0
- **设计时间**: 
- **设计人**: 
- **状态**: 📝 草稿 / 👀 审查中 / ✅ 已通过
- **基于规格**: [链接到规格文档]

---

## 1. 概述

### 1.1 引用规格
本设计基于规格: [链接]

### 1.2 设计目标
[本设计要解决的具体技术问题]

---

## 2. 架构设计

### 2.1 系统架构图
```
[ASCII 架构图或文字描述]

示例:
┌─────────────────────────────────────────────────┐
│                   渲染进程                        │
│  ┌──────────────┐      ┌──────────────┐        │
│  │   Component  │──────│   Context    │        │
│  └──────────────┘      └──────┬───────┘        │
└───────────────────────────────┼─────────────────┘
                                │ IPC
┌───────────────────────────────┼─────────────────┐
│                   主进程        │                 │
│  ┌──────────────┐      ┌───────▼───────┐        │
│  │  Main Process│──────│   Service     │        │
│  └──────────────┘      └───────────────┘        │
└─────────────────────────────────────────────────┘
```

### 2.2 模块划分

#### 模块 1: [名称]
**职责**: 
**接口**: 
**依赖**: 

#### 模块 2: [名称]
**职责**: 
**接口**: 
**依赖**: 

### 2.3 数据流
```
[数据如何在模块间流动]
```

---

## 3. 详细设计

### 3.1 模块 1 详细设计

#### 职责
[该模块具体负责什么]

#### 接口定义
```typescript
interface Module1Interface {
  method1(param: Type): ReturnType;
  method2(): void;
}
```

#### 实现策略
[关键实现细节]

#### 算法/流程
```
[算法描述或流程图]
```

### 3.2 模块 2 详细设计
[同上结构]

---

## 4. 关键决策

### 4.1 决策 1: [决策主题]
**问题**: [要解决什么问题？]

**选项对比**:
| 选项 | 优点 | 缺点 |
|------|------|------|
| A | | |
| B | | |

**决策**: [选择哪个选项？]

**理由**: [为什么？]

### 4.2 决策 2: [决策主题]
[同上结构]

---

## 5. 技术选型

### 5.1 选型 1: [技术/库]
**用途**: 
**替代方案**: 
**选择理由**: 
**风险**: 

### 5.2 选型 2: [技术/库]
[同上结构]

---

## 6. 风险缓解

### 6.1 技术风险
| 风险 | 影响 | 缓解措施 |
|------|------|----------|
| | | |

### 6.2 实现风险
| 风险 | 影响 | 缓解措施 |
|------|------|----------|
| | | |

---

## 7. 文件结构

### 7.1 新增文件
| 路径 | 说明 |
|------|------|
| | |

### 7.2 修改文件
| 路径 | 修改内容 |
|------|----------|
| | |

---

## 8. 测试策略

### 8.1 单元测试
[哪些模块需要单元测试？]

### 8.2 集成测试
[哪些交互需要集成测试？]

### 8.3 端到端测试
[哪些场景需要 E2E 测试？]

---

## 9. 部署/发布策略

### 9.1 数据库迁移
[如果需要]

### 9.2 配置变更
[如果需要]

### 9.3 回滚策略
[如果出现问题如何回滚？]

---

## 10. 下一步

设计通过后，进入 **任务拆分 (Tasks)** 阶段。

运行: `./openspec-dev.sh plan {feature-name}`

---

## 审查清单

- [ ] 基于已通过的规格
- [ ] 架构清晰
- [ ] 模块职责明确
- [ ] 关键决策有依据
- [ ] 风险有应对方案
- [ ] 可追溯性建立
